---
title: "Advanced Engine Options"
output: rmarkdown::html_vignette
vignette: >
  %\VignetteIndexEntry{Advanced Engine Options}
  %\VignetteEngine{knitr::rmarkdown}
  %\VignetteEncoding{UTF-8}
---

```{r, include = FALSE}
knitr::opts_chunk$set(
  collapse = TRUE,
  comment = "#>"
)
```

We've covered in [Customize your diagrams](articles/V04_customize.html) several
ways to teak your diagrams.

We can go a little further by passing arguments to the *{nomnoml}*, *{plantuml}*
and *{plantuml}* functions through the `engine_opts` argument.

In the most general case `engine_opts` is a list containing optional sub-lists named
`"nomnoml"`, `"plantuml"`, and `"htmlwidgets"`.

- The items of the `nomnoml`
 sub-list will be forwarded to `nomnoml:::build_nomnoml_code()`, unexported but
 documented in `?build_nomnoml_code`, in order to alter
 *nomnoml* diagrams. For instance `fontSize`, `direction = "right"` to have a left to right
 diagram, `ranker = "longest-path"` to see have exit points at the bottom...
 - The items of the `plantuml` sub-list will be forwarded to `plantuml:::plot.plantuml()`,
 , in order to alter  *plantuml* diagrams.
 see `?plantuml:::plot.plantuml` and `?plantuml::plantuml_run`
 - The items of the `htmlwidgets` sub-list will be forwarded to
 `htmlwidgets::createWidget()` or `htmlwidgets::saveWidget()`, which are used by
 the *nomnoml* engine.

If this structure is not found, the items of `engine_opts` will be forwarded
to `nomnoml:::build_nomnoml_code()` if the engine is `"nomnoml"`, and
`plantuml:::plot.plantuml` if the engine is `"plantuml"`

For instance here's a custom representation of `rle`

```{r, fig.width=8, fig.height=8, fig.align = "center"}
library(flow)
flow_view(rle, engine_opts = c(ranker = "longest-path", direction = "right"))
```
